<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vota-UD</title>
    <link rel="stylesheet" type="text/css" href="/styles/main.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link href="https://fonts.googleapis.com/css?family=Roboto+Condensed:300,300i,400,400i,700i" rel="stylesheet">
    <script src="/node_modules/@webcomponents/webcomponentsjs/webcomponents-loader.js"></script>
    <link href="https://fonts.googleapis.com/css?family=Raleway&display=swap" rel="stylesheet">
    <script type="module">
        import '@polymer/paper-card/paper-card.js';
        import '@polymer/paper-button/paper-button.js';
        import '@polymer/iron-form/iron-form.js';
        import '@polymer/paper-checkbox/paper-checkbox.js';
        import '@polymer/iron-input/iron-input.js';
        import '@polymer/paper-input/paper-input.js';
        import '@polymer/paper-dropdown-menu/paper-dropdown-menu.js';
        import '@polymer/paper-item/paper-item.js';
        import '@polymer/paper-listbox/paper-listbox.js';
        import '@polymer/paper-spinner/paper-spinner.js';
        import '@polymer/iron-autogrow-textarea/iron-autogrow-textarea.js';
      </script>
</head>
<body>
    <nav role='navigation' id="mainnav">
        <br><br><br>
      <ul class="gap">
        <li><a href="#?">Inicio</a></li>
        <li><a href="#?">Vota</a></li>
        <li><a href="#?">Pregunta</a></li>
        <li><a href="#?">Consulta</a></li>
        <li><a href="#?">Denuncia</a></li>
      </ul>
    </nav>  
    <div class="hamb">
      <a href="#"><i class="fa fa-bars"></i></a>
    </div>
    <div>
        <paper-card>
            <div class="card-content">
                <h2>Inicia una votación</h2>
                <iron-form id="pregunta">
                    <form method="" action="">
                        <h2>Pregunta Aqui</h2>
                        <iron-autogrow-textarea rows="4" placeholder="Tu Pregunta"></iron-autogrow-textarea>
                        <div id = preguntas></div>
                        <paper-button raised onclick="addOpcion()">añadir opciones</paper-button>
                        <paper-input type="text" name="clave" required label="Clave" value=""></paper-input>
                        <paper-button class="boton" raised onclick="_delayedSubmit(event)" disabled id="listo">
                            <paper-spinner id="spinner" hidden></paper-spinner>Votar</paper-button>
                    </form>
                </iron-form>
            </div>
        </paper-card>
    </div>
    <canvas id="bubble"></canvas>
    <script>
        function addOpcion(){
            var preguntas = document.getElementById("preguntas");
            var opcion = document.createElement("paper-input");
            opcion.type = "text";
            preguntas.appendChild(opcion);
        }
        pregunta.addEventListener('iron-form-submit', function(event) {
          document.getElementById('output').innerHTML = "Enviado";
          spinner.active = false;
          spinner.hidden = true;
          listo.disabled = false;
        });
        pregunta.addEventListener('change', function(event) {
          // Validate the entire form to see if we should enable the \`Submit\` button.
          listo.disabled = !pregunta.validate();
        });
        function _delayedSubmit(event) {
          spinner.active = true;
          spinner.hidden = false;
          form4Submit.disabled = true;
      // Simulate a slow server response.
          setTimeout(function() {
            voto.submit()
            }, 1000);
          }
    </script>
    <script src="https://code.jquery.com/jquery-3.3.1.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.10.3/jquery-ui.js"></script>
    <script src="/src/votaciones-ud-app/main.js"></script>
</body>
</html>